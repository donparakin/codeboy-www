{{- define "main" }}
  <main class="mt-3">
    <article>
      <div class="ws-content-grid ws-pg-title">
        <h1 class="h2 breakout">{{ .Title | safeHTML }}</h1>
      </div>
      <div class="ws-content-grid">
        <p>Sorted by name:
        <ul>
          <li>
            {{- $terms := .Data.Terms.Alphabetical }}
            {{- $last_index := add (len $terms) -1 }}
            {{- range $i, $t := $terms }}
            <a href="{{ $t.Page.RelPermalink }}">{{$t.Term}}</a>
            {{- if lt $i $last_index }},{{ else }}.{{ end }}
            {{- end}}
          </li>
        </ul>
        </p>

        <p>Sorted by count:
        <ul>
          <li>
            {{- $terms = .Data.Terms.ByCount }}
            {{- $last_index = add (len $terms) -1 }}
            {{- range $i, $t := $terms }}
            <a href="{{ $t.Page.RelPermalink }}">{{$t.Term}}</a> ({{ .Count }})
            {{- if lt $i $last_index }},{{ else }}.{{ end }}
            {{- end}}
          </li>
        </ul>
        </p>
      </div>
    </article>
  </main>
{{- end }}